# FBMC physical layer: a primer
# 滤波器组多载波传输技术物理层：入门指南

## 概要：
FBMC技术引导了一种相对传统通信网络加强了的物理层，这是一种促成新概念，尤其是认知无线电(Cognitive Radio)的使能技术。
本文档的目的是提供一个FBMC的综述，并强调一些影响通信网络的特性。阅读本文的唯一前提要求是有关数字信号处理的基本知识，尤其是采样定理和快速傅里叶变换（FFT）以及有限长单位冲激响应(FIR)滤波器。更多关于已提到的技术的一些进展和与其相关的替代品以及更多复杂的方法都可以在该网站获取<http://www.ict-phydyas.org>。

本文以FFT在多载波通信的直接应用来展开，指出这种最简单化的途径的局限性，尤其是频谱泄露。然后，将展示FFT途径可以演进为一种能直接设计和实现滤波器组的途径。对每个数据块而言，时间窗被扩展到多个载波符号周期之外，并在时域上出现符号重叠。此时重叠是基于传统有效的单载波调制，其中的码间串扰是可以避免的，如果信道滤波器满足奈奎斯特准则的话。这个基本原理将可以应用到多载波传输上。至于应用方面，滤波器组途径仅仅是直接FFT途径的一个延伸，并且它可以被理解为一个扩展FFT。另一种方案有着更少的计算需求，就是所谓的”多相网络-快速傅里叶变换"(PPN-FFT)技术，该技术保持着FFT的点数但添加了一系列数字滤波器。
与必须保证所有载波的正交性的正交频分复用(OFDM)不同的是，FBMC只需要相邻子信道正交即可。事实上，OFDM是在给定的频率带宽上进行开拓，而FBMC则是用这给定的带宽将传输信道分解成一定数目的子信道。为了充分利用子信道带宽，子信道的调制器必须配合相邻正交性的约束，为此使用了偏移正交幅度调制(OQAM)。
滤波器组和OQAM调制的结合可得到最大的比特率，且不需要用于OFDM的保护时间(guard time)和循环前缀(cyclic prefix)。

传输信道的效应在子信道层级被补偿。子信道均衡器可以处理载波频偏、时偏以及相位和幅度的畸变，因此可以接纳异步用户。当FBMC工作突发传输状态时，突变的长度会被扩展以允许由滤波器脉冲响应引起的始末转变。如果允许一些临时频率泄漏的话，这些转变可能被削减，例如无论何时频隙(frequency gap)都会在相邻用户间出现。作为一种多载波方案，FBMC可得益于多天线系统，于是MIMO技术得以应用。而且既然借助于OQAM调制，那么在当前的多元化环境下为一些MIMO途径所作的配合也是必要的。

FBMC系统可能和OFDM系统共存。由于FBMC是OFDM的演化，所以一定程度的兼容是可以预见的。事实上，初始相位对双方可能是共同的，而且有效的双工模式应用也将被意识到。

在多用户环境下，一旦空闲子信道出现在两者之间，分配给用户的子信道或子信道组会被尽快分离。因此用户不必被异步化即可获取传输系统的通道。这是一个针对上行链路的关键设备——对由基站管理的网络或者未来的“机会通信”(opportunistic communications)都是如此。而在认知无线电领域，FBMC技术提供了这样一种可能：用相同的设备协同实现频率感测(spectrum sensing)和信息传输的功能。更重要的是，用户将享受到一种有可靠保证的频谱保护。

### *Contents:*
**Summary**

* 1)  作为多载波调制器的FFT
* 2)  FFT的滤波效应
* 3)  原型滤波器的设计——奈奎斯特准则
* 4)  扩展FFT来实现滤波器组
* 5)  用PPN-FFT降低计算复杂度
* 6)  OQAM调制
* 7)  传输通道效应
* 8)  子信道均衡器
* 9)  FBMC的突发传输
* 10) MIMO和FBMC结合
* 11) 与OFDM的兼容性
* 12) 网络中的FBMC

### 1. 作为多载波调制器的FFT
逆快速傅里叶变换(**iFFT**)可进行多载波调制而快速傅里叶变换可进行多载波解调。现有一个多载波传输系统，其发送方和接收方如图**Fig.1**所示。
![ Fig.1.  Multicarrier modulation with the FFT ](/E/PythonDoc/FBMC_Prime/Fig1.svg)
显然从图中可看出，由于**FFT**模块和**iFFT**模块串联在一起，发送方在**iFFT**模块输入的数据块可以在接收方的**FFT**模块输出端恢复出来。
这个运作过程的详细描述如下。
**iFFT**和**FFT**的点数是$M$，则有该组$M$样本，即$d_i(mM)$ ($0\le i \le M-1$)被送往**iFFT**输入端。那么在$mM \le n \lt (m+1)M$上**iFFT**的输出端可表示为
 $$x(n)= \sum_{i=0}^{M-1} d_i(mM) e^{j2\pi \dfrac{i(n-mM)}{M} }$$
 
此处所得的该组$M$样本记作一个多载波符号，而$m$则是该符号的编号。至于信道中的传输，则有一个并串转换器被引进到**iFFT**的输出端，从而让样本$x(n)$以串行形式呈现。发出信号的采样率是统一的，有M个载波就有载频间距为$1/M$。一个多载波符号的长度$T$是载频间距的倒数，即$T=M$。值得注意的是$T$也是多载波符号的周期，它反映了这样一个事实，即连续多载波符号不会在时域上重叠。

图**Fig.2**给出了$i=2$且$d_2(mM)=\pm2$时的说明。发出信号$x(n)$是一个正弦波，其长度$T$包含$i=2$个周期。类似地，$d_i(mM)$按长度 $T$  以   $i$ 个周期的正弦波被发送。总之，发出信号是各正弦波的叠加，因此符号长度包含整数个周期。事实上，这是数据还原的条件，即所谓的正交条件。

在接收方，有一个串并转换器被引进到**FFT**的输入端。该数据样本按如下方式被还原
$$d_i(mM)=\frac{1}{M} \sum_{n=mM}^{mM+M-1} x(n) e^{ -j2\pi \dfrac{i(n-mM)}{M} }$$

也请注意，在图**Fig.1**中，由于并串转换器和串并转换器的级联，会在**FFT**的输出端产生相对于**iFFT**输入的一个多载波符号的延迟。
![ Fig.2. Data and transmitted signals ]()
为了系统的良好运作，接收方(**FFT**)必须恰当地与发送方(**IFFT**)及时对齐。目前，面对用于多径传播的信道时，由于信道的冲激响应，多载波符号会在接收方输入端重叠，并且因为码间串扰被引入从而载波正交性丢失，仅仅利用**FFT**来解调已经不再可能。
那么，有两种做法可行：

1)拓展符号长度使之超过信道冲激响应的长度，同时仍然使用原先的**FFT**进行解调。这个方案称为OFDM。

2)保持原先的时序和符号长度，但是要对**FFT**作额外的处理，由于这项额外的处理和**FFT**一起构成一个滤波器组，所以该方案称为FBMC。
